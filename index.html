<html>
    <head>
        <!-- Viewport meta tag -->
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Material Design Lite Library -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
        <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

        <!-- UW-Madison brand fonts -->
        <link rel="stylesheet" id="uwmadison-fonts-css"  href="https://brand.wisc.edu/content/themes/uw-theme/dist/fonts/uw160/fonts.css?ver=1.2.2" type="text/css" media="all" />

        <!-- Syntax highlighting -->
        <link href="./src/themes/prism.css" rel="stylesheet" />

        <!-- Demo styles -->
        <link rel="stylesheet" href="./src/styles.css" type="text/css" />

        <!-- <dialog> element polyfill -->
        <link rel="stylesheet" href="node_modules/dialog-polyfill/dialog-polyfill.css" type="text/css"/>
        <script src="node_modules/dialog-polyfill/dialog-polyfill.js"></script>
        
        <style>
            body {
                padding: 0;
                margin: 0;
                font-family: 'Roboto';
                font-size: 16px;
            }
            myuw-app-bar {
                --myuw-app-bar-font: 'Verlag';
            }
        </style>

        <!-- Web component polyfill loader -->
        <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.1.3/webcomponents-loader.js"></script>

        <!-- myuw-web-components -->
        <script src="https://unpkg.com/@myuw-web-components/myuw-app-styles@^1"></script>

        <script type="module" src="https://unpkg.com/@myuw-web-components/myuw-app-bar@^1?module"></script>
        <script nomodule scr="https://unpkg.com/@myuw-web-components/myuw-app-bar@^1"></script>

        <script type="module" src="https://unpkg.com/@myuw-web-components/myuw-drawer@^1?module"></script>
        <script nomodule src="https://unpkg.com/@myuw-web-components/myuw-drawer@^1"></script>

        <script type="module" src="https://unpkg.com/@myuw-web-components/myuw-search@^1?module"></script>
        <script nomodule scr="https://unpkg.com/@myuw-web-components/myuw-search@^1"></script>
        
        <script type="module" src="https://unpkg.com/@myuw-web-components/myuw-profile@^1?module"></script>
        <script nomodule scr="https://unpkg.com/@myuw-web-components/myuw-profile@^1"></script>
    </head>
    <body class="">
        <myuw-app-bar
            role="toolbar"
            theme-name="MyUW"
            app-name="Web Components" 
            app-url="/">
            <myuw-drawer id="drawer" 
                slot="myuw-navigation">
                <myuw-drawer-link
                  slot="myuw-drawer-links"
                  name="Project info and contacts"
                  icon="person"
                  href="./contacts.html">
                </myuw-drawer-link>
                <myuw-drawer-link
                  slot="myuw-drawer-links"
                  name="MyUW home"
                  icon="home"
                  href="https://my.wisc.edu/">
                </myuw-drawer-link>
                <myuw-drawer-link
                  slot="myuw-drawer-links"
                  name="MyUW Web Components"
                  icon="apps"
                  href="https://github.com/myuw-web-components/">
                </myuw-drawer-link>
            </myuw-drawer>
            <myuw-search id="search" 
                input-label="Search"
                button-label="Submit search"
                icon="search"
                slot="myuw-search"></myuw-search>
            <myuw-profile id="profile" 
                slot="myuw-profile"
                session-endpoint="./demo/session.json"
                login-url="#"
                logout-url="#">
                <a href="https://myuw-web-components.github.io/myuw-profile/" slot="nav-item">Profile demo page</a>
            </myuw-profile>
        </myuw-app-bar>

        <div class="demo__container" role="main">
            <section class="section__demos">
                <div class="card">
                    <div class="title row">
                        <h2 id="page-title">MyUW Web Components</h2>
                        <button id="toggleTheme" class="mdl-button mdl-js-button mdl-button--raised mdl-button--icon" onclick="toggleTheme()">
                            <i class="material-icons">style</i>
                        </button>
                        <div class="mdl-tooltip" data-mdl-for="toggleTheme">
                            Try <span id="alternateThemeName">MyUW White</span> theme
                        </div>
                    </div>
                    <p>This site was created to allow anyone to see, test, and play with the 
                        <a href="https://github.com/myuw-web-components" target="_blank">MyUW Web Components</a> library. 
                        Each entry in the table below represents one of the components used to build this site.</p>
                    <p>You can also see myuw-web-components being used on the following sites*:</p>
                    <ul>
                        <li><a href="https://kbtest.wisc.edu/kb-site/">KnowledgeBase redesign test site</a></li>
                        <li><a href="https://buckybackup.doit.wisc.edu/admin/app/#!/">Bucky Backup admin app</a></li>
                        <li><a href="https://predev.my.wisc.edu/">MyUW predev tier</a></li>
                    </ul>
                    <p><i>*may require a static vpn connection and/or Shibboleth session to view</i></p>
                    <table class="mdl-data-table mdl-js-data-table">
                        <thead>
                            <tr>
                                <th class="mdl-data-table__cell--non-numeric">Component</th>
                                <th>Github link</th>
                                <th>Toggle visibility</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr onclick="showDialog('topBarDialog')">
                                <td class="mdl-data-table__cell--non-numeric">Top app bar</td>
                                <td><a href="https://github.com/myuw-web-components/myuw-app-bar" target="_blank" onclick="event.stopImmediatePropagation()">myuw-app-bar</a></td>
                                <td>n/a</td>
                            </tr>
                            <tr onclick="showDialog('drawerDialog')">
                                <td class="mdl-data-table__cell--non-numeric">Navigation drawer</td>
                                <td><a href="https://github.com/myuw-web-components/myuw-drawer" target="_blank" onclick="event.stopImmediatePropagation()">myuw-drawer</a></td>
                                <td>
                                    <button aria-label="Hide navigation drawer" class="icon-button" onclick="event.stopPropagation();toggleComponent('drawer')">
                                        <i id="drawerIconVisibilityTable" class="material-icons">visibility</i>
                                    </button>
                                </td>
                            </tr>
                            <tr onclick="showDialog('searchDialog')">
                                <td class="mdl-data-table__cell--non-numeric">Search bar</td>
                                <td><a href="https://github.com/myuw-web-components/myuw-search" target="_blank" onclick="event.stopImmediatePropagation()">myuw-search</a></td>
                                <td>
                                    <button aria-label="Hide navigation drawer" class="icon-button" onclick="event.stopPropagation();toggleComponent('search')">
                                        <i id="searchIconVisibilityTable" class="material-icons">visibility</i>
                                    </button>
                                </td>
                            </tr>
                            <tr onclick="showDialog('profileDialog')">
                                <td class="mdl-data-table__cell--non-numeric">Profile button</td>
                                <td><a href="https://github.com/myuw-web-components/myuw-profile" target="_blank" onclick="event.stopImmediatePropagation()">myuw-profile</a></td>
                                <td>
                                    <button aria-label="Hide navigation drawer" class="icon-button" onclick="event.stopPropagation();toggleComponent('profile')">
                                        <i id="profileIconVisibilityTable" class="material-icons">visibility</i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="mdl-data-table__cell--non-numeric">Help and feedback (WIP)</td>
                                <td><a href="https://github.com/myuw-web-components/myuw-help" target="_blank" onclick="event.stopImmediatePropagation()">myuw-help</a></td>
                                <td>n/a</td>
                            </tr>
                        </tbody>
                    </table>
                    <h3>How to use this site</h3>
                    <ol>
                        <li>Click a component's name in the table above</li>
                        <li>Use the dialog that opens to customize the component however you like. <strong>Any changes you make will be reflected live on this page.</strong></li>
                        <li>When you've customized the page to your liking, scroll down to the "<a href="#get-components">Get components</a>" section where you can generate the code for your custom components that you can copy and paste into your own app/web page.</li>
                    </ol>
                </div>
            </section>
            <!-- Brief about section / mission statement -->
            <section class="section__usage">
                <div class="card">
                    <h2 id="get-components">Get components</h2>
                    <p>
                        You can use this tool to generate all the HTML you'll need to use MyUW Web Components in your project. 
                        The markup generated will reflect any configuration options you have changed (or left unchanged) while experimenting with the demos.
                    </p>
                    <p><strong>Please note:</strong> The markup generated by this tool includes the <i>latest</i> version of every component 
                        by default (the same ones used on the site). We recommend looking at the CHANGELOG.md file in each component's 
                        repository to select a specific, stable version that suits your needs. These components are subject to periods of 
                        rapid development and the latest versions are not guaranteed to be 100% stable.</p>
                    <button class="mdl-button mdl-js-button mdl-button--raised" onclick="generateComponentMarkup()">Generate HTML code</button>
                    <ol>
                        <li>
                            Import components and dependencies into your document 
                            <button id="copyImportsButton" class="icon-button" onclick="copyMarkup('generatedModuleImports')"><i class="material-icons">file_copy</i></button>
                            <div class="mdl-tooltip" data-mdl-for="copyImportsButton">
                                Copy to clipboard
                            </div> 
                        </li>
                        <!-- Module imports -->
                        <pre class="lang-markup"><code class="lang-markup" id="generatedModuleImports">
&lt;!-- Script tags to import components will appear here --&gt;
                        </code></pre>
                        <li>
                            <span>Add component HTML to your page</span>
                            <button id="copyComponentsButton" class="icon-button" onclick="copyMarkup('generatedTemplate')"><i class="material-icons">file_copy</i></button>
                            <div class="mdl-tooltip" data-mdl-for="copyComponentsButton">
                                Copy to clipboard
                            </div> 
                        </li>
                        <!-- Component markup -->
                        <pre><code class="lang-markup" id="generatedTemplate">
&lt;!-- Component HTMl will appear here --&gt;
                        </code></pre>
                        <li>
                            <span>Copy custom CSS variables</span>
                            <button id="copyCssButton" class="icon-button" onclick="copyMarkup('generatedCss')"><i class="material-icons">file_copy</i></button>
                            <div class="mdl-tooltip" data-mdl-for="copyCssButton">
                                Copy to clipboard
                            </div>
                        </li>
                        <!-- CSS markup -->
                        <pre><code class="lang-css" id="generatedCss">
&#47;&#42;  Custom CSS properties will appear here &#42;&#47; 
                        </code></pre>
                    </ol>
                </div>
            </section>
        </div>

        <!-- 
            Dialogs for interactive content 
        -->
        <!-- TOP BAR DIALOG -->
        <dialog class="mdl-dialog" id="topBarDialog">
            <div class="dialog-title row">
                <h4>Top app bar</h4>
                <button id="closeBarDialog" type="button" class="icon-button close"><i class="material-icons">close</i></button>
                <div id="closeBarTooltip" class="mdl-tooltip" data-mdl-for="closeBarDialog">
                    Close app bar dialog
                </div>  
            </div>
            <div class="mdl-dialog__content interactive">
                <form name="topBarDemos">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="themeName" >
                        <label class="mdl-textfield__label" for="themeName">Theme name</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="appName" >
                        <label class="mdl-textfield__label" for="appName">App name</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="appUrl" >
                        <label class="mdl-textfield__label" for="appUrl">Title link</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="barBackground">
                        <label class="mdl-textfield__label" for="barBackground">Background color</label>
                        <div id="barBackgroundTooltip" class="mdl-tooltip" data-mdl-for="barBackground">
                            Accepts hex value, rgb, rgba, or plain text color
                        </div>
                    </div>
                </form>
                <div class="mdl-dialog__actions">
                    <button type="button" class="mdl-button md-js-button mdl-button--raised" onclick="updateTopAppBar(event)">Update top bar</button>
                </div>
            </div>
        </dialog>

        <!-- NAVIGATION DRAWER DIALOG -->
        <dialog class="mdl-dialog" id="drawerDialog">
            <div class="dialog-title row">
                <h4>Navigation drawer</h4>
                <div class="dialog-title-controls row">
                    <button id="toggleDrawer" aria-label="Hide navigation drawer" class="icon-button" onclick="toggleComponent('drawer')">
                        <i id="drawerIconVisibility" class="material-icons">visibility</i>
                    </button>
                    <div id="drawerToggleTooltip" class="mdl-tooltip" data-mdl-for="toggleDrawer">
                        Hide drawer
                    </div>
                    <button id="closeDrawerDialog" type="button" class="icon-button close"><i class="material-icons">close</i></button>
                    <div id="closeDrawerTooltip" class="mdl-tooltip" data-mdl-for="closeDrawerDialog">
                        Close drawer dialog
                    </div>  
                </div>
            </div>
            <div class="mdl-dialog__content interactive">
                <form name="drawerDemos" onsubmit="event.preventDefault(); addDrawerLink()">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="navItemLabel" required>
                        <label class="mdl-textfield__label" for="navItemLabel">Link text</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="navItemHref" required>
                        <label class="mdl-textfield__label" for="navItemHref">Link URL:</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="navItemIcon">
                        <label class="mdl-textfield__label" for="navItemIcon">Material icon</label>
                    </div>
                    <a aria-label="see material icons" id="navIconInfo" class="icon-button" href="https://material.io/tools/icons" target="_blank"><i class="material-icons">help</i></a>
                    <div id="materialIconTooltip" class="mdl-tooltip" data-mdl-for="navIconInfo">
                        See available icons
                    </div>
                    <div class="mdl-dialog__actions">
                        <button type="submit" class="mdl-button md-js-button mdl-button--raised">Add navigation link</button>
                        <span id="drawerHelperText" class="helper"></span>
                    </div>
                </form>
            </div>
        </dialog>

        <!-- SEARCH BAR DIALOG -->
        <dialog class="mdl-dialog" id="searchDialog">
            <div class="dialog-title row">
                <h4>Search bar</h4>
                <div class="dialog-title-controls row">
                    <button id="toggleSearch" aria-label="Hide search bar component" class="icon-button" onclick="toggleComponent('search')">
                        <i id="searchIconVisibility" class="material-icons">visibility</i>
                    </button>
                    <div id="searchToggleTooltip" class="mdl-tooltip" data-mdl-for="toggleSearch">
                        Hide search
                    </div>
                    <button id="closeSearchDialog" type="button" class="icon-button close"><i class="material-icons">close</i></button>
                    <div id="closeSearchTooltip" class="mdl-tooltip" data-mdl-for="closeSearchDialog">
                        Close search dialog
                    </div>                   
                </div>
            </div>
            <div class="mdl-dialog__content interactive">
                <form name="profileDemos" onsubmit="event.preventDefault();updateSearchBar();">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="searchPlaceholder">
                        <label class="mdl-textfield__label" for="searchPlaceholder">Search box placeholder</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="searchAriaLabel">
                        <label class="mdl-textfield__label" for="searchAriaLabel">Search button aria-label</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="searchIcon">
                        <label class="mdl-textfield__label" for="searchIcon">Material icon</label>
                    </div>
                    <a aria-label="see material icons" id="searchIconInfo" class="icon-button" href="https://material.io/tools/icons" target="_blank"><i class="material-icons">help</i></a>
                    <div id="materialIconTooltip" class="mdl-tooltip" data-mdl-for="searchIconInfo">
                        See available icons
                    </div>
                    <div class="form-control">
                            <label for="searchCallback">Choose search behavior: </label>
                            <select id="searchCallback" onchange="updateCallback(searchCallback.value)">
                                <option value="alert">Generate an alert</option>
                                <option value="yahoo">Change some text on screen</option>
                            </select>
                        </div>
                    <div class="mdl-dialog__actions">
                        <button type="submit" class="mdl-button md-js-button mdl-button--raised">Update search component</button>
                    </div>
                </form>
                <h5>Guidance: Search behavior</h5>
                <p>
                    The search component allows you to set a "callback" value on the root element. It is up to write the corresponding function in your code. Without it, the search bar won't do anything when a search is submitted. 
                    The example code below demonstrates how this page handles searches:
                </p>
                <pre class="language-js"><code id="searchCallbackCode"></code></pre>
            </div>
        </dialog>

        <!-- PROFILE BUTTON INTERACTIVE CONTENT -->
        <dialog class="mdl-dialog" id="profileDialog">
            <div class="dialog-title row">
                <h4>Profile button/menu</h4>
                <div class="dialog-title-controls row">
                    <button id="toggleProfile" aria-label="Hide profile menu component" class="icon-button" onclick="toggleComponent('profile')">
                        <i id="profileIconVisibility" class="material-icons">visibility</i>
                    </button>
                    <div id="profileToggleTooltip" class="mdl-tooltip" data-mdl-for="toggleProfile">
                        Hide profile
                    </div>
                    <button id="closeProfileDialog" type="button" class="icon-button close"><i class="material-icons">close</i></button>    
                    <div id="closeProfileTooltip" class="mdl-tooltip" data-mdl-for="closeProfileDialog">
                        Close profile dialog
                    </div>                   
                </div>
            </div>
            <div class="mdl-dialog__content interactive">
                <form name="profileDemos" onsubmit="event.preventDefault(); updateProfileTemplate()">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="profileColor">
                        <label class="mdl-textfield__label" for="profileColor">Profile button color</label>
                    </div>
                    <div id="profileColorTooltip" class="mdl-tooltip" data-mdl-for="profileColor">
                        Accepts hex value, rgb, rgba, or plain text color
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="loginUrl">
                        <label class="mdl-textfield__label" for="loginUrl">Login URL</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="logoutUrl">
                        <label class="mdl-textfield__label" for="logoutUrl">Logout URL</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="sessionEndpoint" placeholder="/demo/session2.json">
                        <label class="mdl-textfield__label" for="sessionEndpoint">Session endpoint</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="profileLinkLabel">
                        <label class="mdl-textfield__label" for="profileLinkLabel">Menu link text</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="profileLinkUrl">
                        <label class="mdl-textfield__label" for="profileLinkUrl">Menu link url</label>
                    </div>
                    <div class="mdl-dialog__actions">
                        <button class="mdl-button md-js-button mdl-button--raised">Update profile component</button>
                        <span id="profileHelperText" class="helper"></span>
                    </div>
                </form>
                <h5>Example session states</h5>
                <p>These buttons alter the "session-endpoint" attribute of the profile component. The component displays a different appearance depending on the JSON available at the provided endpoint.</p>
                <div class="row" id="sessionStates">
                    <button aria-label="set no session" class="mdl-button md-js-button" onclick="setSession('jargon')" type="button">No session</button>&nbsp;&nbsp;
                    <button aria-label="set alternate session" class="mdl-button md-js-button" onclick="setSession('/demo/session2.json')" type="button">Swap session</button>&nbsp;&nbsp;
                    <button aria-label="restore demo session" class="mdl-button md-js-button" onclick="setSession('/demo/session.json')" type="button">Restore demo session</button>
                </div>
            </div>
        </dialog>

        <!-- Demo interactions -->
        <script src='./src/interactions.js'></script>
        <script src='./src/dialogs.js'></script>
        <!-- Syntax highlighting -->
        <script src="./src/themes/prism.js" data-manual></script>
    </body>
</html>
